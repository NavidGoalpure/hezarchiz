---
title: "لایتنینگ چیست؟"
domain: "https://www.youtube.com/watch?v=38T9VFXhYRg&list=PLYc8rgTV8DzC29873Qt1kzvgZGHNxce7_&index=10"
domainName: "مفاهیم بیتکوین"
img: "cover.jpg"
logo: ""
description: "ضیا صدر به سوال بالا پاسخ می‌دهد"
keywords: learning,bitcoin,bitcoin-concepts,zia,lightning
blog: false
confirm: true
---

**سوال:** لایتنینگ مثل شبکه‌ی بلاک‌چین قابل اعتماد هست؟ یا شرایط خاصی داره؟

**پاسخ:**
می‌تونم بگم که تقریبا این همیشه درسته که همه‌ی تخم مرغ‌هاتون رو توی یک سبد نذارید ولی این به این معنی نیست که شما 6 تا 7 تا ببینید شبکه‌ی بیت‌کوین رو اگر ما یک کره در نظر بگیریم و تراکنش‌های ما داره توی اون انجام می‌شه، شبکه‌ی لایتنینگ مثل یک پوسته دور اون کره است و اتصالی به این کره نداره مگر در نقاطی که شما مثلا با من میاین یه مقدار بیت‌کوین میندازید توی یه آدرس و دوتایی با همدیگه قفلش می‌کنیم.

حالا چون با همدیگه انگار یه اعتباری این وسط گذاشتیم، مثلا من نیم بیت‌کوین و شما نیم بیت‌کوین گذاشتید، بر اساس این دو نیم بیت‌کوین که با هم قفلش کردیم و من بدون اجازه‌ی شما و شما بدون اجازه‌ی من نمیتونید این رو بردارید، تو سطح مثلا آی پی خیلی راحت با همدیگه پیام رد و بدل می‌کنیم، مثلا من میگم یک صدم به تو میدم چون از تو گوشی خریدم و شما میگی مثلا دو صدم به من میدید چون از من لپ‌تاپ خریدید.

و این‌ها رو که با همدیگه رد و بدل می‌کنیم توی اون لایه اتفاق میفته و هیچ ربطی به اون کره‌ای که اون شبکه‌ی بیت‌کوین هست نداره. همه‌ی این اتفاقات فقط بین من و شما داره میفته و اگر مثلا اشخاص دیگری هستند که مثلا من به شما پرداخت می‌کنم و شما اون پول رو میدی به بعدی و بعدی و بعدی تا برسه به مقصد.

به این حالت کار می‌کنه. یه جور شبیه پیام رسانیه و پیام فقط بین همدیگه رد و بدل می‌کنید و این پیام‌ها همون در واقع تراکنش‌اند اما این تراکنش‌ها روی شبکه‌ی بیت‌کوین ثبت نمیشن و همه بین خودمونه.

در نهایت فکرشو بکنید مثلا شما در یک رستوران هستید و من مسئول تدارکات هستم، من برای شما همینجوری دارم جنس میارم و شما همش دارید به من پرداخت می‌کنید. مثلا شما نیم بیت‌کوین گذاشتید و من دو صدم بیت‌کوین و یک کانال ایجاد کردیم (به این ارتباط میگن کانال). در نهایت بعد از تمام پرداخت‌هایی که شما به داشتید، الان اون نیم بیت‌کوین به من رسیده و من می‌خوام این بیت‌کوین رو بردارم بذارم توی جیب خودم. کانال رو می‌بندیم و روی شبکه‌ی بلاک‌چین بیت‌کوین، انتقال نهایی رو انجام می‌دیم.

در ابتدا اون نیم بیت‌کوین برای شما بود، ولی در انتها به خاطر پرداخت‌هایی که به هم داشتیم، من اون نیم بیت‌کوین رو برمیدارم.

و به این حالت ما تراکنش‌هامون خارج از شبکه‌ی بیت‌کوین اتفاق میفته.

حالا چون خارج از شبکه‌ی بیت‌کوینه آیا امنیت دارند؟ این که امنیت دارند یا ندارند مشخصا به امن بودن تراکنش‌ها روی شبکه‌ی بیت‌کوین نیستند. چرا؟ چون که تراکنش‌های شبکه‌ی بیت‌کوین settlement نهایی هستند یعنی تسویه‌ی کامل و در لحظه. یعنی کانفرم که شد دیگه برگشت پذیر نیست.

ولی توی لایتنینگ یک حالت وجود داره که اون هم شاید در آپدیت‌های آینده که پروتکل‌های جدیدترش بیاد این هم حذف بشه، که یک روش برای تقلب وجود داره، اون هم اینکه مثلا ما با همدیگه داریم رد و بدل می‌کنیم. شبیه رسید داریم به همدیگه تحویل می‌دیم. در ازای تراکنش‌هایی که انجام میشه یک رسید به هم تحویل می‌دیم هر سری.

من رسید اولی که به شما دادم مثلا یه مقدار بیت‌کوین از من کم شد و رسید دوم یه مقدار دیگه کم شد و همینطور رسید‌های بعدی، و الان رسیدیم به رسید صدم. الان توی رسید صدم وضعیت موجودی من و شما مثلا یه حالتی داره که من تقریبا پول ندارم و همه‌ی پول‌ها به شما رسیده. من به جای اینکه رسید صدم رو ثبت کنم میام رسید اول رو ثبت می‌کنم توی شبکه. چرا؟ چون اون موقع من موجودی بیشتری داشتم.

خب من اگه اینکار رو کنم به یک شرطی می‌تونم برنده‌ی این تقلب بشم که شما مچ من رو نگیرید. چرا؟ چون که اگه مچ من رو بگیرید و معمولا شرطی وجود داره واسه‌ی این وضعیت که یک یا دو هفته طول بکشه از تقلب من.

توی این مدت اگر شما متوجه این مسئله بشید، که نرم افزار خودش متوجه میشه، اونوقت شما میای رسید صدم رو چاپ میکنی و هر چی اضافه پول هم من داشته باشم رو از من بر میدارید. اینجوری من رو جریمه هم می‌کنید. به این شکل به خاطر این که من ممکنه جریمه هم بشم، این کار رو نمی‌کنم.

به خاطر این حالته که من احتمال بُردم در این تقلب در این یک هفته، یک در هزاره و احتمال بُرد شما هزار به یکه. خیلی بیشتره. واسه همینه که این یه جورایی تعادل برقرار می‌کنه که من هیچوقت تقلب نکنم و خب یه نرم افزاری به نام واچ تاور هست که خود لایتنینگ داره و انجامش میده.

اینها در سطح پروتکله یعنی نرم افزار شما خودش همه چی رو مدیریت می‌کنه و نکته‌اش اینه که شما وقتی از لایتنینگ استفاده می‌کنید تراکنش‌هاتون به سرعت و در لحظه انجام میشن و کارمزدشون تقریبا هیچه. من مثلا 10 تا تراکنش انجام دادم و هر 10 تا تراکنش کارمزدشون با هم شد یک ساتوشی.

حالا من همش دارم میگم که من و شما کانال ایجاد کردیم، ولی در واقع من می‌تونم به هر کسی پرداخت کنم، اگر کانال‌هایی که بین ماها هست به هم متصل بشه. مثلا من الان اینجا دارم 5 تا اسم می‌بینم. من با احسان یک کانال دارم، احسان با امیر کانال داره، امیر با علی کانال داره و علی با سینا. من اگر بخوام به سینا پرداختی رو انجام بدم، از احسان و امیر و علی رد میشه و به سینا میرسه. به این حالت انجام میشه و توی این مسیر هم کسی نمی‌تونه قطعش کنه یا پول رو برداره چون دریافت کننده اون شخص نیست، دریافت کننده یک شخص دیگه است.

به این میگن روتینگ، یعنی مسیریابی میکنه و میرسه به مقصد.

حالا ما بگیم شاید با همدیگه کانال نداشته باشیم. خب بعضیا هستند که کانال‌های زیادی دارند. اون‌ مثلا ممکنه یه بیزینس باشه، یک اکسچنج باشه، یک فروشنده باشه، مثلا دیجیکالا باشه. این‌ها چون کانال‌های زیادی می‌تونن داشته باشن، بد نیست که آدم به اون‌ها کانال بزنه، چرا؟ چون این اشخاص احتمالا خیلی کانال دارن و شما وقتی تراکنش انجام میدین از طریق اون شخص روتینگ می‌کنه و میرسه به مقصد.

و مثلا من خودم توی 3 سال گذشته فکر کنم دو یا سه تا تراکنشم توی لایتنینگ روتینگ نشد و مسیر پیدا نکرد. به نود acinq وصلم که یه سازنده‌ی کیف پوله و نود خیلی قوی‌ای داره و خیلی استیبله.

و به این شکل در واقع شبکه‌ی لایتنینگ کار می‌کنه. تو شبکه‌ی بیت‌کوین حتما باید ارسال کننده و دریافت کننده آنلاین باشند. بر خلاف بیت‌کوین.

یه نکته‌ی دیگه‌ای که توی لایتنینگ متفاوته اینه که ما دیگه آدرس نداریم اینجا. با Invoice پرداخت می‌کنیم که invoice ها مثلا یه سری حروف‌اند که چند برابر آدرس طولانی‌تراند.

Invoice ها یکبار مصرف هستند. مثل آدرس‌ها نیستند که شما مثلا یه آدرس بدید و بارها بهش پرداخت شده باشه. هر سری که می‌خواین دریافت کنید باید یه invoice جدید بسازید و به شخص مقابل تحویل بدید.

خیلی چیزهای جالبی در لایتنینگ اضافه شده مثلا یه چیزی به نام Atomic Multi-Path Payments هست که محدودیت روتینگ کانال‌ها و مقدار بیت‌کوینی که میشه از کانال‌ها رد کرد رو یه جورایی حل می‌کنه.

Trampoline که پرایوسی رو بالاتر می‌بره.

Turbo channels که شما قبل از اینکه یه تراکنش کانفرم بشه می‌تونید انتقال بدید.

یه سری نمونه کانال بازکردن‌های جدید اومده که مثلا بعضی والت‌ها رو شما بخواین استفاده کنید اصلا دیگه خطر اون تقلب رو هم نداره و موارد دیگه.

یعنی یه چیزی هست که دائم در حال توسعه هست و میره جلو و خب نرم‌افزارهای اوپن سورس، توسعه‌شون یه مقدار کندتر از آپدیت شدن قابلیت‌های تلگرامه. ولی خیلی نرم‌افزارها هم هستند مثل واتساپ، هیچی اضافه نمی‌کنه. خیای نرم‌افزارها هستند خیلی هم آپدیت نمی‌کنند. ولی ما خیلی توقعات زیادی مثل اینکه از اوپن سورس داریم. انتظار داریم هر چی خواستیم همون روز واسمون انجام بده. ببینید بیت‌کوین امروز که وجود داره 12 سال گذشته که شده این بیت‌کوینی که الان می‌بینید. پس باید افق دیدتون رو بزرگتر کنید نسبت به این مسئه.

همونطور که میگیم هودل کنیم واسه‌ی دید بلند مدت به بیت‌کوین، این جا همینطوریه. این توسعه‌ها هم طولانیه و زمان می‌بره.

والت‌های مختلفی هست. Breez Wallet، Phoenix Wallet، Eclair، Zab، Zeos و خیلی والت هست. بعضی والت‌ها هستند custodial اند، بعضیا نیستند. Muun wallet که جک دورسی در موردش توییت زد.

حتما تا زمانی که در موردش مطالعه نکردید ازش استفاده نکنید یا اینکه اگر استفاده می‌کنید فقط مبالغ کم، برای پرداخت‌های خرد. مثلا بیشتر از 100 دلار توش نذارید.
